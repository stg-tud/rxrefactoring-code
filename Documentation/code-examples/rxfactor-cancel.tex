\begin{figure}[h]
\begin{minipage}{0.48\textwidth}
\begin{sourcecode}
\begin{javacode}{19}
// File 1: Class XYZ
...
	void startAsyncTask() 
	{
		task = new AsyncTask<...>(){...};
		task.execute();
		button.addListener(new EventListener(task));
	}
...

// File 2: Class EventListener
...
	EventListener(AsyncTask<...> task) 
	{
		this.task = task;
	}

	onEvent(Event e){
		this.task.cancel(true);
	}
...
\end{javacode}
\caption{Execute and Cancel of AsyncTask in different Classes before Refactoring}
\label{code:rxfactor-cancel-before}
\end{sourcecode}
\end{minipage}\hspace{0.7cm}
\begin{minipage}{0.48\textwidth}
\begin{sourcecode}
\begin{javacode}{18-20}
// File 1: Class XYZ
...
	void startAsyncTask() 
	{
		observable = Observable.fromCallable(...);
		/*Subscription subs = */ observable.subscribe();
		button.addListener(new EventListener(observable));
	}
...

// File 2: Class EventListener
...
	EventListener( Observable<...>  observable ) {
			this.observable = observable;
	}

	onEvent(Event e){
		// COMPILATION ERROR in next line
		// The subscription is needed instead
		this.observable.unsubscribe();
	}
...
\end{javacode}
\caption{Execute and Cancel of AsyncTask in different Classes after Refactoring}
\label{code:rxfactor-cancel-after}
\end{sourcecode}
\end{minipage}
\end{figure}