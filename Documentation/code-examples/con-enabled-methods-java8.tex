\begin{figure}[h]
\begin{sourcecode}
\begin{javacode}{9,11,12,13}
Observable.from(productDao.getProducts())
        .filter(p ->
                p.getPrice() > 50 &&
                p.getStore().equals(STORE_A))
        .map(p -> new Product(
                p.getId(),
                p.getPrice() * 1.10,
                STORE_B))
        .subscribeOn(Schedulers.computation())
        .doOnNext(p -> productDao.save(p))
        .doOnError(t -> handleError(t))
        .observeOn(SwingSchedulers.getInstance())
        .doOnCompleted(() -> updateUI())
        .subscribe();
\end{javacode}
\caption{Enabled Methods after Refactoring}
\label{code:con-enabled-methods-java8}
\end{sourcecode}
\end{figure}