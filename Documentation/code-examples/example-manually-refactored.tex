\begin{figure}[H]
\begin{sourcecode}
\begin{javacode}{}
public abstract class DocumentLoader 
	extends SWSubscriber<List<Document>, Document> {
	
    ... // field declarations

	public void load( File... files ) {
		this.files = files;
		// setup subject
		ConnectableObservable<Document> connectableObservable = getRxObservable()
				.subscribeOn( Schedulers.computation() )
				.flatMap( swPackage -> Observable.from( swPackage.getChunks() ) )
				.filter( doc -> doc.getName().contains( ".jpg" ) )
				.map( doc -> new Document(
						doc.getName().replace( ".jpg", "" ).toUpperCase(),
						doc.getPath(),
						doc.getLanguage(),
						doc.getImage() ) )
				.observeOn( SwingScheduler.getInstance() )
				.publish();
		// register subscribers
		connectableObservable.subscribe( document -> {
			print( "Subscriber  0 - Updating UI: ", document );
			fetchResult( Arrays.asList( document ) );
		} );
		connectableObservable.subscribe( doc -> print( "Subscriber 1 - ", doc ) );
		connectableObservable.subscribe( doc -> print( "Subscriber 2 - ", doc ) );
		connectableObservable.subscribe( doc -> print( "Subscriber 3 - ", doc ) );
		// connect subject with subscribers
		connectObservable( connectableObservable );
	}
	
	... // methods: getRxObservable, process and fetchResult
	
	private void print(String id, Document document ) {
		System.out.println( "[ " + Thread.currentThread().getName() + " ] " + id + document.getName() );
	}
...
}
\end{javacode}
\caption{DocumentLoader Class manually modified after \toolextension{}-Refactoring}
\label{code:example-edited}
\end{sourcecode}
\end{figure}
