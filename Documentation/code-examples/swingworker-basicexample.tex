\begin{javacode}{5,11,12,18,21,25,29}
...
SwingWorker<String, Integer> swingWorker = new SwingWorker<String, Integer>()
{
	@Override
	protected String doInBackground() throws Exception
	{
		StringBuilder sb = new StringBuilder();
		for ( int id = 0; id <= MAX_ID; i++ )
		{
			sb.append(executeLongRunningOperation(id));
			publish( id );
			setProgress( id * 100 / MAX_ID );
		}
		return sb.toString();
	}

	@Override
	protected void process( List<Integer> chunks )
	{
		int lastId = chunks.get(chunks.size() - 1);
		updateUI( lastId ); // it must be executed in the UI Thread
	}

	@Override
	protected void done()
	{
		try
		{
			String result = get();
			showResultInUI( result );  // it must be executed in the UI Thread
		}
		catch ( InterruptedException | ExecutionException e )
		{
			handleException( e );
		}
	}
};
\end{javacode}
